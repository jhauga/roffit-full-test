<!-- generated with roffit -->
<a name="NAME"></a><h2 class="nroffsh">Name</h2>
<p class="level0">CURLOPT_DOH_SSL_VERIFYHOST - verify the host name in the DoH SSL certificate </p><a name="SYNOPSIS"></a><h2 class="nroffsh">Synopsis</h2><pre class="level0">
&#35;include &lt;curl/curl.h&gt;
&nbsp;
CURLcode curl_easy_setopt(CURL *handle, CURLOPT_DOH_SSL_VERIFYHOST,
&nbsp;                         long verify);
</pre>
<a name="DESCRIPTION"></a><h2 class="nroffsh">Description</h2>
<p class="level0">Pass a long set to 2L as asking curl to <span Class="emphasis">verify</span> the DoH (DNS-over-HTTPS) server&#39;s certificate name fields against the host name. </p>
<p class="level0">This option is the DoH equivalent of <span Class="emphasis">CURLOPT_SSL_VERIFYHOST(3)</span> and only affects requests to the DoH server. </p>
<p class="level0">When <span Class="emphasis">CURLOPT_DOH_SSL_VERIFYHOST(3)</span> is 2, the SSL certificate provided by the DoH server must indicate that the server name is the same as the server name to which you meant to connect to, or the connection fails. </p>
<p class="level0">Curl considers the DoH server the intended one when the Common Name field or a Subject Alternate Name field in the certificate matches the host name in the DoH URL to which you told Curl to connect. </p>
<p class="level0">When the <span Class="emphasis">verify</span> value is set to 1L it is treated the same as 2L. However for consistency with the other <span Class="emphasis">VERIFYHOST</span> options we suggest use 2 and not 1. </p>
<p class="level0">When the <span Class="emphasis">verify</span> value is set to 0L, the connection succeeds regardless of the names used in the certificate. Use that ability with caution! </p>
<p class="level0">See also <span Class="emphasis">CURLOPT_DOH_SSL_VERIFYPEER(3)</span> to verify the digital signature of the DoH server certificate. </p><a name="DEFAULT"></a><h2 class="nroffsh">Default</h2>
<p class="level0">2 </p><a name="PROTOCOLS"></a><h2 class="nroffsh">Protocols</h2>
<p class="level0">DoH </p><a name="EXAMPLE"></a><h2 class="nroffsh">Example</h2><pre class="level0">
CURL *curl = curl_easy_init();
if(curl) {
&nbsp; curl_easy_setopt(curl, CURLOPT_URL, &quot;https://example.com&quot;);
&nbsp;
&nbsp; curl_easy_setopt(curl, CURLOPT_DOH_URL, &quot;https://cloudflare-dns.com/dns-query&quot;);
&nbsp;
&nbsp; /* Disable host name verification of the DoH server */
&nbsp; curl_easy_setopt(curl, CURLOPT_DOH_SSL_VERIFYHOST, 0L);
&nbsp;
&nbsp; curl_easy_perform(curl);
}
</pre>
<a name="AVAILABILITY"></a><h2 class="nroffsh">Availability</h2>
<p class="level0">Added in 7.76.0 </p>
<p class="level0">If built TLS enabled. </p><a name="RETURN"></a><h2 class="nroffsh">Return value</h2>
<p class="level0">Returns CURLE_OK if the option is supported, and CURLE_UNKNOWN_OPTION if not. </p><a name="SEE"></a><h2 class="nroffsh">See also</h2>
<p class="level0"><span Class="bold">CURLOPT_DOH_SSL_VERIFYPEER</span>(3),  <span Class="bold">CURLOPT_SSL_VERIFYHOST</span>(3),  <span Class="bold">CURLOPT_SSL_VERIFYPEER</span>(3),  <span Class="bold">CURLOPT_PROXY_SSL_VERIFYPEER</span>(3),  <span Class="bold">CURLOPT_PROXY_SSL_VERIFYHOST</span>(3),  </p><p class="roffit">
 This HTML page was made with <a href="http://daniel.haxx.se/projects/roffit/">roffit</a>.
